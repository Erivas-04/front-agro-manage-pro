"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[215],{5215:(S,g,c)=>{c.r(g),c.d(g,{ConcentrateModule:()=>N});var y=c(6814),u=c(9310),t=c(5849),m=c(5219),f=c(9590),d=c(9250),C=c(7213),s=c(707),b=c(4104),i=c(95),h=c(5609),_=c(3714);let T=(()=>{class e{constructor(){this.close=new t.vpe,this.formBuilder=(0,t.f3M)(i.qu),this.concentrateService=(0,t.f3M)(f.i)}ngOnInit(){this.createConcentrateForm=this.formBuilder.group({animal_food_name:["",i.kI.required],observations:[""],hability:[!1,i.kI.required]})}createConcentrate(){if(this.createConcentrateForm.invalid)return;const o=parseInt(localStorage.getItem("asig"));this.concentrateService.post(o,this.createConcentrateForm.value).subscribe({next:a=>{this.close.emit(a)},error:a=>{console.error(a)}})}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-concentrate"]],outputs:{close:"close"},decls:19,vars:1,consts:[[1,"grid"],[1,"col-12","p-fluid"],[1,"p-formgrid","field","grid",3,"formGroup"],[1,"field","col","md:col-12"],["htmlFor","animal_name"],["type","text","pInputText","","formControlName","animal_food_name","id","animal_name"],[1,"field","col","col-12"],["htmlFor","observations"],["type","text","pInputText","","formControlName","observations","id","observations"],[1,"col-12"],[1,"field-checkbox"],["formControlName","hability","id","hability"],["for","hability"],[1,"flex","flex-wrap","gap-2","layout-footer"],["pButton","","type","submit","label","Agregar","icon","pi pi-plus",1,"p-button-raised","p-button-success",3,"click"],["label","cerrar","styleClass","p-button-link",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"label",4),t._uU(5,"Nombre del concentrado"),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",6)(8,"label",7),t._uU(9,"Observaciones"),t.qZA(),t._UZ(10,"input",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10),t._UZ(13,"p-inputSwitch",11),t.TgZ(14,"label",12),t._uU(15,"Habilitado"),t.qZA()()()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){return a.createConcentrate()}),t.qZA(),t.TgZ(18,"p-button",15),t.NdJ("click",function(){return a.close.emit()}),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",a.createConcentrateForm))},dependencies:[s.Hq,s.zx,h.Ql,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.o],encapsulation:2})}return e})(),x=(()=>{class e{constructor(){this.close=new t.vpe,this.formBuilder=(0,t.f3M)(i.qu),this.concentrateService=(0,t.f3M)(f.i)}ngOnInit(){this.updateConcentrateForm=this.formBuilder.group({animal_food_name:[this.concentrate.concentrate_name,i.kI.required],observations:[this.concentrate.observations],hability:[this.concentrate.hability,i.kI.required]})}updateConcentrate(){this.updateConcentrateForm.invalid||this.concentrateService.put(this.concentrate.id,{animal_food_name:this.updateConcentrateForm.value.animal_food_name,observations:this.updateConcentrateForm.value.observations,hability:this.updateConcentrateForm.value.hability}).subscribe({next:n=>{this.close.emit(n)},error:n=>{console.error(n)}})}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-update-concentrate"]],inputs:{concentrate:"concentrate"},outputs:{close:"close"},decls:19,vars:1,consts:[[1,"grid"],[1,"col-12","p-fluid"],[1,"p-formgrid","field","grid",3,"formGroup"],[1,"field","col","md:col-12"],["htmlFor","concentrate_name"],["type","text","pInputText","","formControlName","animal_food_name","id","animal_name"],[1,"field","col","col-12"],["htmlFor","observations"],["type","text","pInputText","","formControlName","observations","id","observations"],[1,"col-12"],[1,"field-checkbox"],["formControlName","hability","id","hability"],["for","hability"],[1,"flex","flex-wrap","gap-2","layout-footer"],["pButton","","type","submit","label","Modificar","icon","pi pi-plus",1,"p-button-raised","p-button-success",3,"click"],["label","cerrar","styleClass","p-button-link",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"label",4),t._uU(5,"Nombre del concentrado"),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",6)(8,"label",7),t._uU(9,"Observaciones"),t.qZA(),t._UZ(10,"input",8),t.qZA(),t.TgZ(11,"div",9)(12,"div",10),t._UZ(13,"p-inputSwitch",11),t.TgZ(14,"label",12),t._uU(15,"Habilitado"),t.qZA()()()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){return a.updateConcentrate()}),t.qZA(),t.TgZ(18,"p-button",15),t.NdJ("click",function(){return a.close.emit()}),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",a.updateConcentrateForm))},dependencies:[s.Hq,s.zx,h.Ql,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.o],encapsulation:2})}return e})();function A(e,l){1&e&&(t.TgZ(0,"tr")(1,"th",11),t._uU(2,"Concentrado"),t._UZ(3,"p-sortIcon",12),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Habilitado"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Modificar"),t.qZA()())}function U(e,l){1&e&&t._UZ(0,"i",18)}function k(e,l){1&e&&t._UZ(0,"i",19)}function F(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"app-update-concentrate",20),t.NdJ("close",function(a){t.CHM(o);const r=t.oxw(2);return t.KtG(r.closeDialog(a))}),t.qZA()}if(2&e){const o=t.oxw(2);t.Q6J("concentrate",o.concentrateSelect)}}const v=()=>({width:"20vw"}),Z=()=>({"960px":"75vw"});function J(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td",13),t.YNc(4,U,1,0,"i",14)(5,k,1,0),t.qZA(),t.TgZ(6,"td",13)(7,"p-dialog",15),t.NdJ("visibleChange",function(a){t.CHM(o);const r=t.oxw();return t.KtG(r.displayU=a)}),t.YNc(8,F,1,1,"app-update-concentrate",16),t.qZA(),t.TgZ(9,"i",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.updateDialog(r))}),t.qZA()()()}if(2&e){const o=l.$implicit,n=t.oxw();t.xp6(2),t.Oqu(o.concentrate_name),t.xp6(2),t.um2(4,o.hability?4:5),t.xp6(3),t.Akn(t.DdM(8,v)),t.Q6J("visible",n.displayU)("modal",!0)("breakpoints",t.DdM(9,Z)),t.xp6(1),t.um2(8,n.displayU?8:-1)}}let q=(()=>{class e{constructor(){this.concentrateService=(0,t.f3M)(f.i),this.router=(0,t.f3M)(u.F0),this.messageService=(0,t.f3M)(m.ez),this.concentrateList=[],this.concentrateSelect=null,this.display=!1,this.displayU=!1}ngOnInit(){this.getData()}getData(){const o=parseInt(localStorage.getItem("asig"));this.concentrateService.get(o).subscribe({next:n=>{this.concentrateList=n},error:n=>{console.error(n),this.router.navigate(["/login"])}})}updateDialog(o){this.concentrateSelect=o,this.displayU=!0}closeDialog(o){this.messageService.add(this.display?{key:"create",severity:"success",summary:"Concentrado creado",detail:o.message}:{key:"update",severity:"info",summary:"Concentrado actualizado",detail:o.message}),this.concentrateSelect=null,this.display=!1,this.displayU=!1,this.getData()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-concentrate"]],features:[t._Bn([m.ez])],decls:13,vars:11,consts:[[1,"grid"],[1,"md:col-12","col-12"],[1,"card"],[1,"col-12"],["header","Crear concentrado","showEffect","fade",3,"visible","modal","breakpoints","visibleChange"],[3,"close"],["icon","pi pi-plus","label","Crear concentrado","type","button","pButton","","pRipple","",1,"p-button-success","button",3,"click"],["responsiveLayout","scroll","scrollDirection","both","scrollHeight","400px",3,"value","scrollable","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["key","create"],["pSortableColumn","concentrate_name"],["field","concentrate_name"],[1,"rows"],["class","pi pi-check"],["header","Modificar concentrado","showEffect","fade",3,"visible","modal","breakpoints","visibleChange"],[3,"concentrate"],[1,"pi","pi-wrench",3,"click"],[1,"pi","pi-check"],[1,"pi","pi-times"],[3,"concentrate","close"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Concentrados"),t.qZA(),t.TgZ(5,"div",3)(6,"p-dialog",4),t.NdJ("visibleChange",function(p){return a.display=p}),t.TgZ(7,"app-create-concentrate",5),t.NdJ("close",function(p){return a.closeDialog(p)}),t.qZA()(),t.TgZ(8,"button",6),t.NdJ("click",function(){return a.display=!0}),t.qZA()(),t.TgZ(9,"p-table",7),t.YNc(10,A,8,0,"ng-template",8)(11,J,10,10,"ng-template",9),t.qZA(),t._UZ(12,"p-toast",10),t.qZA()()()),2&n&&(t.xp6(6),t.Akn(t.DdM(9,v)),t.Q6J("visible",a.display)("modal",!0)("breakpoints",t.DdM(10,Z)),t.xp6(3),t.Q6J("value",a.concentrateList)("scrollable",!0)("paginator",!0)("rows",20))},dependencies:[d.iA,m.jx,d.lQ,d.fz,C.V,s.Hq,b.FN,T,x],styles:[".button[_ngcontent-%COMP%]{margin-left:40%}.rows[_ngcontent-%COMP%]{width:33%}#observations[_ngcontent-%COMP%]{width:full}"]})}return e})(),M=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild([{path:"",component:q}]),u.Bz]})}return e})(),N=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[y.ez,M,d.U$,C.S,s.hJ,h.Iu,i.u5,i.UX,_.j,b.EV]})}return e})()}}]);